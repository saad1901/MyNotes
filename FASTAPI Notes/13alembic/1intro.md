# What is Alembic?

- **Alembic** is a lightweight database migration tool for SQLAlchemy (Python ORM).
- It helps you manage changes to your database schema over time, without losing data.
- Commonly used in FastAPI, Flask, and other Python projects that use SQLAlchemy.

---

## Why Use Alembic?
- Tracks changes to your database schema (tables, columns, indexes, etc.).
- Allows you to upgrade or downgrade your database structure safely.
- Makes it easy to collaborate on database changes in a team.
- Avoids manual SQL scripts for schema changes.

---

## Key Concepts
- **Migration:** A set of changes to the database schema (e.g., add a column).
- **Revision:** A versioned migration file (Python script) generated by Alembic.
- **Upgrade:** Apply migrations to move the database schema forward.
- **Downgrade:** Revert migrations to move the schema backward.

---

## Typical Alembic Workflow
1. **Initialize Alembic in your project:**
   ```bash
   alembic init alembic
   ```
2. **Edit `alembic.ini` and `env.py` to set your database URL.**
3. **Generate a new migration when your models change:**
   ```bash
   alembic revision --autogenerate -m "Add new column to users"
   ```
4. **Apply migrations to the database:**
   ```bash
   alembic upgrade head
   ```
5. **Downgrade if needed:**
   ```bash
   alembic downgrade -1
   ```

---

## Best Practices
- Always review autogenerated migrations before applying.
- Keep migrations in version control (Git).
- Use descriptive messages for each migration.
- Test migrations on a staging database before production.

---

## Useful Links
- [Alembic Documentation](https://alembic.sqlalchemy.org/en/latest/)
- [FastAPI Alembic Tutorial](https://fastapi.tiangolo.com/tutorial/sql-databases/#migrations-with-alembic)

> **Tip:** Alembic is essential for any production app using SQLAlchemy, as it keeps your database schema in sync with your code.

