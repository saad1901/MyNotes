# 8. Best Practices for Using SQLAlchemy

Following best practices helps you write maintainable, efficient, and secure code with SQLAlchemy.

## 1. Session Management
- Use a new session for each unit of work (e.g., per web request).
- Always close sessions to free resources.
- Prefer context managers (`with Session(engine) as session:`) for automatic cleanup.

## 2. Model Organization
- Keep models in a separate `models.py` or `models/` package.
- Use clear and consistent naming for tables and columns.
- Document relationships and constraints in your models.

## 3. Migrations
- Use Alembic for managing schema changes.
- Review autogenerated migration scripts before applying.
- Keep migration history in version control.

## 4. Security
- Never store plain-text passwords; always hash them (e.g., with Passlib).
- Use parameterized queries (SQLAlchemy does this by default) to prevent SQL injection.
- Limit database permissions for your application user.

## 5. Performance
- Use indexes on frequently queried columns.
- Use connection pooling (enabled by default in SQLAlchemy).
- Profile and optimize queries as your application grows.

## 6. General Tips
- Read the [SQLAlchemy documentation](https://docs.sqlalchemy.org/) for advanced features.
- Write tests for your database code.
- Keep your dependencies up to date.

By following these practices, you can build robust and scalable applications with SQLAlchemy. 